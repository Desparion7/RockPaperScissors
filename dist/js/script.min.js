"use strict";function ownKeys(t,e){var n,s=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),s.push.apply(s,n)),s}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pointElement=document.querySelector(".points"),paperBtn=document.querySelector(".button--paper"),scissorsBtn=document.querySelector(".button--scissors"),rockBtn=document.querySelector(".button--rock"),sectionOptions=document.querySelector(".options"),buttons=document.querySelectorAll(".options .button"),rulesBtn=document.querySelector(".rules-btn"),rules=document.querySelector(".rules"),rulesCloseBtn=document.querySelector(".close-rules-btn"),sectionFight=document.querySelector(".fight "),pickSpan=document.querySelectorAll(".pick span"),LeftPick=document.querySelectorAll(".pick-left"),newElementBox=document.querySelector(".pick-box-AI"),resulBox=document.querySelector(".fight-resul"),tryAgainBtn=document.querySelector(".reset-btn"),playerWinsLSKey="playerWins",AIWinsLSKey="AIWins",winnigMap={paper:["rock"],scissors:["paper"],rock:["scissors"]},state={playerWins:Number(localStorage.getItem(playerWinsLSKey))||0,AIWins:Number(localStorage.getItem(AIWinsLSKey))||0,playerPick:null,AIPick:null},init=function(){renderScore(),bindPickEvents()},renderScore=function(){pointElement.textContent=state.playerWins-state.AIWins},bindPickEvents=function(){buttons.forEach(function(e){e.addEventListener("click",function(e){createElements(e),pickAnimation()})})},createElements=function(e){newPlayerPick(e.currentTarget.dataset.pick),newAIPick(),createElementPickedByPlayer(),pickByIAAnimation()},newPlayerPick=function(e){state=_objectSpread(_objectSpread({},state),{},{playerPick:e})},createElementPickedByPlayer=function(){var e=state.playerPick,t=document.createElement("div"),n=(t.classList.add("button","button--".concat(e)),document.createElement("div")),s=(n.classList.add("button-bgc"),document.createElement("img")),e=(s.src="dist/img/icon-".concat(e,".svg"),s.alt=e,document.createElement("div")),o=(e.classList.add("rings"),document.querySelector(".pick-box-player"));o.innerHTML="",n.appendChild(s),t.appendChild(n),o.appendChild(t),o.appendChild(e)},pickByIAAnimation=function(){var e=document.querySelector(".shadow-circle-box"),t=document.querySelector(".random1"),n=document.querySelector(".random2"),s=document.querySelector(".random3");setTimeout(function(){e.style.display="none"},2e3),setTimeout(function(){t.style.display="flex"},2200),setTimeout(function(){t.style.display="none",n.style.display="flex"},2400),setTimeout(function(){n.style.display="none",s.style.display="flex"},2600),setTimeout(function(){s.style.display="none",t.style.display="flex"},2800),setTimeout(createElementPickedByAI,3e3)},newAIPick=function(){var e=["paper","rock","scissors"][Math.floor(3*Math.random())];state=_objectSpread(_objectSpread({},state),{},{AIPick:e})},createElementPickedByAI=function(){var e=state.AIPick,t=document.createElement("div"),n=(t.classList.add("button","button--".concat(e)),document.createElement("div")),s=(n.classList.add("button-bgc"),document.createElement("img")),e=(s.src="dist/img/icon-".concat(e,".svg"),s.alt=e,document.createElement("div"));e.classList.add("rings"),newElementBox.innerHTML="",n.appendChild(s),t.appendChild(n),newElementBox.appendChild(t),newElementBox.appendChild(e),fightResult()},pickAnimation=function(){paperBtn.classList.add("first-animation-paper"),scissorsBtn.classList.add("first-animation-scissors"),rockBtn.classList.add("first-animation-rock"),sectionOptions.classList.add("options-animation"),setTimeout(function(){sectionOptions.style.display="none"},1500),setTimeout(function(){sectionFight.classList.add("rings-animation"),sectionFight.style.display="flex",pickSpan.forEach(function(e){e.classList.add("show-text")})},1500)},fightResult=function(){var e=document.querySelector(".resoul");state.playerPick===state.AIPick?e.textContent="DRAW":(winnigMap[state.playerPick].includes(state.AIPick)?(localStorage.setItem(playerWinsLSKey,state.playerWins+1),state=_objectSpread(_objectSpread({},state),{},{playerWins:state.playerWins+1}),e.textContent="YOU WIN",document.querySelector(".pick-box-player .rings").style.display="block",document.querySelector(".pick-box-player img")):(localStorage.setItem(AIWinsLSKey,state.AIWins+1),state=_objectSpread(_objectSpread({},state),{},{AIWins:state.AIWins+1}),e.textContent="YOU LOST",document.querySelector(".pick-box-AI .rings").style.display="block",document.querySelector(".pick-box-AI img"))).classList.add("rotate-animation"),renderScore(),resulBox.style.display="flex"},reset=function(){sectionOptions.style.display="block",sectionOptions.classList.remove("options-animation"),paperBtn.classList.remove("first-animation-paper"),scissorsBtn.classList.remove("first-animation-scissors"),rockBtn.classList.remove("first-animation-rock"),sectionFight.style.display="none",resulBox.style.display="none",resetAIBox()},resetAIBox=function(){newElementBox.innerHTML='<div class="shadow-circle-box"></div>\n\t<button class="button button--paper random1" data-pick="paper">\n\t\t<div class="button-bgc">\n\t\t\t<img src="dist/img/icon-paper.svg" alt="paper" />\n\t\t</div></button\n\t><button class="button button--scissors random2" data-pick="scissors">\n\t\t<div class="button-bgc">\n\t\t\t<img src="dist/img/icon-scissors.svg" alt="scissors" />\n\t\t</div></button\n\t><button class="button button--rock random3" data-pick="rock">\n\t\t<div class="button-bgc">\n\t\t\t<img src="dist/img/icon-rock.svg" alt="rock" />\n\t\t</div>\n\t</button>'},openRules=function(){rules.style.display="block"},closeRules=function(){rules.style.display="none"};init(),tryAgainBtn.addEventListener("click",reset),rulesBtn.addEventListener("click",openRules),rulesCloseBtn.addEventListener("click",closeRules);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJwb2ludEVsZW1lbnQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJwYXBlckJ0biIsInNjaXNzb3JzQnRuIiwicm9ja0J0biIsInNlY3Rpb25PcHRpb25zIiwiYnV0dG9ucyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJydWxlc0J0biIsInJ1bGVzIiwicnVsZXNDbG9zZUJ0biIsInBpY2tTcGFuIiwiTGVmdFBpY2siLCJyZXN1bEJveCIsInBhcGVyIiwidHJ5QWdhaW5CdG4iLCJzY2lzc29ycyIsInBsYXllcldpbnNMU0tleSIsInJvY2siLCJBSVdpbnNMU0tleSIsInBsYXllcldpbnMiLCJOdW1iZXIiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiQUlXaW5zIiwicGxheWVyUGljayIsIkFJUGljayIsInJlbmRlclNjb3JlIiwiYmluZFBpY2tFdmVudHMiLCJ0ZXh0Q29udGVudCIsInN0YXRlIiwiZm9yRWFjaCIsImJ1dHRvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwiY3JlYXRlRWxlbWVudHMiLCJuZXdQbGF5ZXJQaWNrIiwiY3VycmVudFRhcmdldCIsImRhdGFzZXQiLCJwaWNrIiwibmV3QUlQaWNrIiwiY3JlYXRlRWxlbWVudFBpY2tlZEJ5UGxheWVyIiwicGlja0J5SUFBbmltYXRpb24iLCJwaWNrZWRPcHRpb24iLCJfb2JqZWN0U3ByZWFkIiwibmV3RWxlbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjb25jYXQiLCJuZXdFbGVtZW50QmciLCJhZGQiLCJuZXdFbGVtZW50SW1nIiwiY2xhc3NMaXN0IiwibmV3UmluZ3MiLCJuZXdFbGVtZW50Qm94IiwiaW5uZXJIVE1MIiwiYXBwZW5kQ2hpbGQiLCJzZXRUaW1lb3V0Iiwic2hhZG93IiwiZGlzcGxheSIsInN0eWxlIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwicGlja09wdGlvbnMiLCJwaWNrZWRPcHRpb25CeUFJIiwiY3JlYXRlRWxlbWVudFBpY2tlZEJ5QUkiLCJzcmMiLCJmaWdodFJlc3VsdCIsInBpY2tBbmltYXRpb24iLCJzZWN0aW9uRmlnaHQiLCJzcGFuIiwicmVzb3VsVGV4dCIsIndpbm5pZ01hcCIsImluY2x1ZGVzIiwic2V0SXRlbSIsInBsYXllcldpblJpbmdzIiwiQUlXaW5SaW5ncyIsIndpbkltZyIsInJlbW92ZSIsInJlc2V0IiwicmVzZXRBSUJveCIsImNsb3NlUnVsZXMiLCJpbml0Iiwib3BlblJ1bGVzIl0sIm1hcHBpbmdzIjoicXZCQUFBLElBQU1BLGFBQWVDLFNBQVNDLGNBQWMsU0FBdkIsRUFDZkMsU0FBV0YsU0FBU0MsY0FBYyxnQkFBdkIsRUFDWEUsWUFBY0gsU0FBU0MsY0FBYyxtQkFBdkIsRUFDZEcsUUFBVUosU0FBU0MsY0FBYyxlQUF2QixFQUNWSSxlQUFpQkwsU0FBU0MsY0FBYyxVQUF2QixFQUNqQkssUUFBVU4sU0FBU08saUJBQWlCLGtCQUExQixFQUVWQyxTQUFXUixTQUFTQyxjQUFjLFlBQXZCLEVBUFhGLE1BQUFBLFNBQWVDLGNBQVNDLFFBQXhCRixFQUNBRyxjQUFXRixTQUFTQyxjQUFjLGtCQUF2QkQsRUFFWEksYUFBVUosU0FBU0MsY0FBYyxTQUF2QkQsRUFDVkssU0FBQUEsU0FBaUJMLGlCQUFBLFlBQWpCSyxFQUNBQyxTQUFVTixTQUFTTyxpQkFBaUIsWUFBMUJQLEVBRVZRLGNBQVdSLFNBQVNDLGNBQWMsY0FBdkJELEVBQ1hTLFNBQVFULFNBQVNDLGNBQWMsY0FBdkJELEVBQ1JVLFlBQWdCVixTQUFTQyxjQUFjLFlBQXZCRCxFQUdoQlcsZ0JBQW9CSixhQUNwQkssWUFBV1osU0FFWGEsVUFBV2IsQ0FDakJjLE1BQU1DLENBQUFBLFFBRU5DLFNBQU1DLENBQUFBLFNBQ05DLEtBQU1DLENBQUFBLFdBSlduQixFQVFoQmdCLE1BQVUsQ0FLVkksV0FKT0MsT0FBREMsYUFBQUMsUUFBQU4sZUFBQSxDQUFBLEdBQUEsRUFIUE8sT0FBQUgsT0FBQUMsYUFBQUMsUUFBQUosV0FBQSxDQUFBLEdBQUEsRUFNQU0sV0FB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ZSI6InNjcmlwdC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBwb2ludEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9pbnRzJyk7XHJcbmNvbnN0IHBhcGVyQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1dHRvbi0tcGFwZXInKTtcclxuY29uc3Qgc2Npc3NvcnNCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnV0dG9uLS1zY2lzc29ycycpO1xyXG5jb25zdCByb2NrQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1dHRvbi0tcm9jaycpO1xyXG5jb25zdCBzZWN0aW9uT3B0aW9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5vcHRpb25zJyk7XHJcbmNvbnN0IGJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcub3B0aW9ucyAuYnV0dG9uJyk7XHJcblxyXG5jb25zdCBydWxlc0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ydWxlcy1idG4nKTtcclxuY29uc3QgcnVsZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucnVsZXMnKTtcclxuY29uc3QgcnVsZXNDbG9zZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jbG9zZS1ydWxlcy1idG4nKTtcclxuXHJcbmNvbnN0IHNlY3Rpb25GaWdodCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5maWdodCAnKTtcclxuY29uc3QgcGlja1NwYW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGljayBzcGFuJyk7XHJcbmNvbnN0IExlZnRQaWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBpY2stbGVmdCcpO1xyXG5jb25zdCBuZXdFbGVtZW50Qm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBpY2stYm94LUFJJyk7XHJcbmNvbnN0IHJlc3VsQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZpZ2h0LXJlc3VsJyk7XHJcbmNvbnN0IHRyeUFnYWluQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJlc2V0LWJ0bicpO1xyXG5cclxuY29uc3QgcGxheWVyV2luc0xTS2V5ID0gJ3BsYXllcldpbnMnO1xyXG5jb25zdCBBSVdpbnNMU0tleSA9ICdBSVdpbnMnO1xyXG5cclxuY29uc3Qgd2lubmlnTWFwID0ge1xyXG5cdHBhcGVyOiBbJ3JvY2snXSxcclxuXHRzY2lzc29yczogWydwYXBlciddLFxyXG5cdHJvY2s6IFsnc2Npc3NvcnMnXSxcclxufTtcclxuXHJcbmxldCBzdGF0ZSA9IHtcclxuXHRwbGF5ZXJXaW5zOiBOdW1iZXIobG9jYWxTdG9yYWdlLmdldEl0ZW0ocGxheWVyV2luc0xTS2V5KSkgfHwgMCxcclxuXHRBSVdpbnM6IE51bWJlcihsb2NhbFN0b3JhZ2UuZ2V0SXRlbShBSVdpbnNMU0tleSkpIHx8IDAsXHJcblx0cGxheWVyUGljazogbnVsbCxcclxuXHRBSVBpY2s6IG51bGwsXHJcbn07XHJcblxyXG5jb25zdCBpbml0ID0gKCkgPT4ge1xyXG5cdHJlbmRlclNjb3JlKCk7XHJcblx0YmluZFBpY2tFdmVudHMoKTtcclxufTtcclxuXHJcbmNvbnN0IHJlbmRlclNjb3JlID0gKCkgPT4ge1xyXG5cdHBvaW50RWxlbWVudC50ZXh0Q29udGVudCA9IHN0YXRlLnBsYXllcldpbnMgLSBzdGF0ZS5BSVdpbnM7XHJcbn07XHJcblxyXG5jb25zdCBiaW5kUGlja0V2ZW50cyA9ICgpID0+IHtcclxuXHRidXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xyXG5cdFx0YnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuXHRcdFx0Y3JlYXRlRWxlbWVudHMoZSk7XHJcblx0XHRcdHBpY2tBbmltYXRpb24oKTtcclxuXHRcdH0pO1xyXG5cdH0pO1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlRWxlbWVudHMgPSAoZSkgPT4ge1xyXG5cdG5ld1BsYXllclBpY2soZS5jdXJyZW50VGFyZ2V0LmRhdGFzZXQucGljayk7XHJcblx0bmV3QUlQaWNrKCk7XHJcblx0Y3JlYXRlRWxlbWVudFBpY2tlZEJ5UGxheWVyKCk7XHJcblx0cGlja0J5SUFBbmltYXRpb24oKTtcclxufTtcclxuXHJcbmNvbnN0IG5ld1BsYXllclBpY2sgPSAocGlja2VkT3B0aW9uKSA9PiB7XHJcblx0c3RhdGUgPSB7XHJcblx0XHQuLi5zdGF0ZSxcclxuXHRcdHBsYXllclBpY2s6IHBpY2tlZE9wdGlvbixcclxuXHR9O1xyXG59O1xyXG5jb25zdCBjcmVhdGVFbGVtZW50UGlja2VkQnlQbGF5ZXIgPSAoKSA9PiB7XHJcblx0Y29uc3QgcGxheWVyUGljayA9IHN0YXRlLnBsYXllclBpY2s7XHJcblx0Y29uc3QgbmV3RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdG5ld0VsZW1lbnQuY2xhc3NMaXN0LmFkZCgnYnV0dG9uJywgYGJ1dHRvbi0tJHtwbGF5ZXJQaWNrfWApO1xyXG5cdGNvbnN0IG5ld0VsZW1lbnRCZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdG5ld0VsZW1lbnRCZy5jbGFzc0xpc3QuYWRkKCdidXR0b24tYmdjJyk7XHJcblx0Y29uc3QgbmV3RWxlbWVudEltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xyXG5cdG5ld0VsZW1lbnRJbWcuc3JjID0gYGRpc3QvaW1nL2ljb24tJHtwbGF5ZXJQaWNrfS5zdmdgO1xyXG5cdG5ld0VsZW1lbnRJbWcuYWx0ID0gcGxheWVyUGljaztcclxuXHRjb25zdCBuZXdSaW5ncyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdG5ld1JpbmdzLmNsYXNzTGlzdC5hZGQoJ3JpbmdzJyk7XHJcblx0Y29uc3QgbmV3RWxlbWVudEJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5waWNrLWJveC1wbGF5ZXInKTtcclxuXHRuZXdFbGVtZW50Qm94LmlubmVySFRNTCA9ICcnO1xyXG5cdG5ld0VsZW1lbnRCZy5hcHBlbmRDaGlsZChuZXdFbGVtZW50SW1nKTtcclxuXHRuZXdFbGVtZW50LmFwcGVuZENoaWxkKG5ld0VsZW1lbnRCZyk7XHJcblx0bmV3RWxlbWVudEJveC5hcHBlbmRDaGlsZChuZXdFbGVtZW50KTtcclxuXHRuZXdFbGVtZW50Qm94LmFwcGVuZENoaWxkKG5ld1JpbmdzKTtcclxufTtcclxuY29uc3QgcGlja0J5SUFBbmltYXRpb24gPSAoKSA9PiB7XHJcblx0Y29uc3Qgc2hhZG93ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNoYWRvdy1jaXJjbGUtYm94Jyk7XHJcblx0Y29uc3QgcGFwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmFuZG9tMScpO1xyXG5cdGNvbnN0IHNjaXNzb3JzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJhbmRvbTInKTtcclxuXHRjb25zdCByb2NrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJhbmRvbTMnKTtcclxuXHJcblx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRzaGFkb3cuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuXHR9LCAyMDAwKTtcclxuXHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdHBhcGVyLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XHJcblx0fSwgMjIwMCk7XHJcblx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRwYXBlci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cdFx0c2Npc3NvcnMuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcclxuXHR9LCAyNDAwKTtcclxuXHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdHNjaXNzb3JzLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblx0XHRyb2NrLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XHJcblx0fSwgMjYwMCk7XHJcblx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRyb2NrLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblx0XHRwYXBlci5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xyXG5cdH0sIDI4MDApO1xyXG5cclxuXHRzZXRUaW1lb3V0KGNyZWF0ZUVsZW1lbnRQaWNrZWRCeUFJLCAzMDAwKTtcclxufTtcclxuXHJcbmNvbnN0IG5ld0FJUGljayA9ICgpID0+IHtcclxuXHRjb25zdCBwaWNrT3B0aW9ucyA9IFsncGFwZXInLCAncm9jaycsICdzY2lzc29ycyddO1xyXG5cdGNvbnN0IHBpY2tlZE9wdGlvbkJ5QUkgPSBwaWNrT3B0aW9uc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAzKV07XHJcblx0c3RhdGUgPSB7XHJcblx0XHQuLi5zdGF0ZSxcclxuXHRcdEFJUGljazogcGlja2VkT3B0aW9uQnlBSSxcclxuXHR9O1xyXG59O1xyXG5jb25zdCBjcmVhdGVFbGVtZW50UGlja2VkQnlBSSA9ICgpID0+IHtcclxuXHRjb25zdCBBSVBpY2sgPSBzdGF0ZS5BSVBpY2s7XHJcblx0Y29uc3QgbmV3RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdG5ld0VsZW1lbnQuY2xhc3NMaXN0LmFkZCgnYnV0dG9uJywgYGJ1dHRvbi0tJHtBSVBpY2t9YCk7XHJcblx0Y29uc3QgbmV3RWxlbWVudEJnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0bmV3RWxlbWVudEJnLmNsYXNzTGlzdC5hZGQoJ2J1dHRvbi1iZ2MnKTtcclxuXHRjb25zdCBuZXdFbGVtZW50SW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XHJcblx0bmV3RWxlbWVudEltZy5zcmMgPSBgZGlzdC9pbWcvaWNvbi0ke0FJUGlja30uc3ZnYDtcclxuXHRuZXdFbGVtZW50SW1nLmFsdCA9IEFJUGljaztcclxuXHRjb25zdCBuZXdSaW5ncyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdG5ld1JpbmdzLmNsYXNzTGlzdC5hZGQoJ3JpbmdzJyk7XHJcblx0bmV3RWxlbWVudEJveC5pbm5lckhUTUwgPSAnJztcclxuXHRuZXdFbGVtZW50QmcuYXBwZW5kQ2hpbGQobmV3RWxlbWVudEltZyk7XHJcblx0bmV3RWxlbWVudC5hcHBlbmRDaGlsZChuZXdFbGVtZW50QmcpO1xyXG5cdG5ld0VsZW1lbnRCb3guYXBwZW5kQ2hpbGQobmV3RWxlbWVudCk7XHJcblx0bmV3RWxlbWVudEJveC5hcHBlbmRDaGlsZChuZXdSaW5ncyk7XHJcblx0ZmlnaHRSZXN1bHQoKTtcclxufTtcclxuXHJcbmNvbnN0IHBpY2tBbmltYXRpb24gPSAoKSA9PiB7XHJcblx0cGFwZXJCdG4uY2xhc3NMaXN0LmFkZCgnZmlyc3QtYW5pbWF0aW9uLXBhcGVyJyk7XHJcblx0c2Npc3NvcnNCdG4uY2xhc3NMaXN0LmFkZCgnZmlyc3QtYW5pbWF0aW9uLXNjaXNzb3JzJyk7XHJcblx0cm9ja0J0bi5jbGFzc0xpc3QuYWRkKCdmaXJzdC1hbmltYXRpb24tcm9jaycpO1xyXG5cdHNlY3Rpb25PcHRpb25zLmNsYXNzTGlzdC5hZGQoJ29wdGlvbnMtYW5pbWF0aW9uJyk7XHJcblx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRzZWN0aW9uT3B0aW9ucy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cdH0sIDE1MDApO1xyXG5cdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0c2VjdGlvbkZpZ2h0LmNsYXNzTGlzdC5hZGQoJ3JpbmdzLWFuaW1hdGlvbicpO1xyXG5cdFx0c2VjdGlvbkZpZ2h0LnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XHJcblx0XHRwaWNrU3Bhbi5mb3JFYWNoKChzcGFuKSA9PiB7XHJcblx0XHRcdHNwYW4uY2xhc3NMaXN0LmFkZCgnc2hvdy10ZXh0Jyk7XHJcblx0XHR9KTtcclxuXHR9LCAxNTAwKTtcclxufTtcclxuXHJcbmNvbnN0IGZpZ2h0UmVzdWx0ID0gKCkgPT4ge1xyXG5cdGNvbnN0IHJlc291bFRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmVzb3VsJyk7XHJcblx0aWYgKHN0YXRlLnBsYXllclBpY2sgPT09IHN0YXRlLkFJUGljaykge1xyXG5cdFx0cmVzb3VsVGV4dC50ZXh0Q29udGVudCA9ICdEUkFXJztcclxuXHR9IGVsc2UgaWYgKHdpbm5pZ01hcFtzdGF0ZS5wbGF5ZXJQaWNrXS5pbmNsdWRlcyhzdGF0ZS5BSVBpY2spKSB7XHJcblx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShwbGF5ZXJXaW5zTFNLZXksIHN0YXRlLnBsYXllcldpbnMgKyAxKTtcclxuXHRcdHN0YXRlID0ge1xyXG5cdFx0XHQuLi5zdGF0ZSxcclxuXHRcdFx0cGxheWVyV2luczogc3RhdGUucGxheWVyV2lucyArIDEsXHJcblx0XHR9O1xyXG5cdFx0cmVzb3VsVGV4dC50ZXh0Q29udGVudCA9ICdZT1UgV0lOJztcclxuXHRcdGNvbnN0IHBsYXllcldpblJpbmdzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBpY2stYm94LXBsYXllciAucmluZ3MnKTtcclxuXHRcdHBsYXllcldpblJpbmdzLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG5cdFx0Y29uc3Qgd2luSW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBpY2stYm94LXBsYXllciBpbWcnKTtcclxuXHRcdHdpbkltZy5jbGFzc0xpc3QuYWRkKCdyb3RhdGUtYW5pbWF0aW9uJyk7XHJcblx0fSBlbHNlIHtcclxuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKEFJV2luc0xTS2V5LCBzdGF0ZS5BSVdpbnMgKyAxKTtcclxuXHRcdHN0YXRlID0ge1xyXG5cdFx0XHQuLi5zdGF0ZSxcclxuXHRcdFx0QUlXaW5zOiBzdGF0ZS5BSVdpbnMgKyAxLFxyXG5cdFx0fTtcclxuXHRcdHJlc291bFRleHQudGV4dENvbnRlbnQgPSAnWU9VIExPU1QnO1xyXG5cdFx0Y29uc3QgQUlXaW5SaW5ncyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5waWNrLWJveC1BSSAucmluZ3MnKTtcclxuXHRcdEFJV2luUmluZ3Muc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcblx0XHRjb25zdCB3aW5JbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGljay1ib3gtQUkgaW1nJyk7XHJcblx0XHR3aW5JbWcuY2xhc3NMaXN0LmFkZCgncm90YXRlLWFuaW1hdGlvbicpO1xyXG5cdH1cclxuXHRyZW5kZXJTY29yZSgpO1xyXG5cdHJlc3VsQm94LnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XHJcbn07XHJcblxyXG5jb25zdCByZXNldCA9ICgpID0+IHtcclxuXHRzZWN0aW9uT3B0aW9ucy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuXHRzZWN0aW9uT3B0aW9ucy5jbGFzc0xpc3QucmVtb3ZlKCdvcHRpb25zLWFuaW1hdGlvbicpO1xyXG5cdHBhcGVyQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2ZpcnN0LWFuaW1hdGlvbi1wYXBlcicpO1xyXG5cdHNjaXNzb3JzQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2ZpcnN0LWFuaW1hdGlvbi1zY2lzc29ycycpO1xyXG5cdHJvY2tCdG4uY2xhc3NMaXN0LnJlbW92ZSgnZmlyc3QtYW5pbWF0aW9uLXJvY2snKTtcclxuXHRzZWN0aW9uRmlnaHQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuXHRyZXN1bEJveC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cdHJlc2V0QUlCb3goKTtcclxufTtcclxuXHJcbmNvbnN0IHJlc2V0QUlCb3ggPSAoKSA9PiB7XHJcblx0bmV3RWxlbWVudEJveC5pbm5lckhUTUwgPSBgPGRpdiBjbGFzcz1cInNoYWRvdy1jaXJjbGUtYm94XCI+PC9kaXY+XHJcblx0PGJ1dHRvbiBjbGFzcz1cImJ1dHRvbiBidXR0b24tLXBhcGVyIHJhbmRvbTFcIiBkYXRhLXBpY2s9XCJwYXBlclwiPlxyXG5cdFx0PGRpdiBjbGFzcz1cImJ1dHRvbi1iZ2NcIj5cclxuXHRcdFx0PGltZyBzcmM9XCJkaXN0L2ltZy9pY29uLXBhcGVyLnN2Z1wiIGFsdD1cInBhcGVyXCIgLz5cclxuXHRcdDwvZGl2PjwvYnV0dG9uXHJcblx0PjxidXR0b24gY2xhc3M9XCJidXR0b24gYnV0dG9uLS1zY2lzc29ycyByYW5kb20yXCIgZGF0YS1waWNrPVwic2Npc3NvcnNcIj5cclxuXHRcdDxkaXYgY2xhc3M9XCJidXR0b24tYmdjXCI+XHJcblx0XHRcdDxpbWcgc3JjPVwiZGlzdC9pbWcvaWNvbi1zY2lzc29ycy5zdmdcIiBhbHQ9XCJzY2lzc29yc1wiIC8+XHJcblx0XHQ8L2Rpdj48L2J1dHRvblxyXG5cdD48YnV0dG9uIGNsYXNzPVwiYnV0dG9uIGJ1dHRvbi0tcm9jayByYW5kb20zXCIgZGF0YS1waWNrPVwicm9ja1wiPlxyXG5cdFx0PGRpdiBjbGFzcz1cImJ1dHRvbi1iZ2NcIj5cclxuXHRcdFx0PGltZyBzcmM9XCJkaXN0L2ltZy9pY29uLXJvY2suc3ZnXCIgYWx0PVwicm9ja1wiIC8+XHJcblx0XHQ8L2Rpdj5cclxuXHQ8L2J1dHRvbj5gO1xyXG59O1xyXG5cclxuLy8gUlVMRVNcclxuY29uc3Qgb3BlblJ1bGVzID0gKCkgPT4ge1xyXG5cdHJ1bGVzLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG59O1xyXG5jb25zdCBjbG9zZVJ1bGVzID0gKCkgPT4ge1xyXG5cdHJ1bGVzLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbn07XHJcblxyXG5pbml0KCk7XHJcblxyXG50cnlBZ2FpbkJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHJlc2V0KTtcclxucnVsZXNCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuUnVsZXMpO1xyXG5ydWxlc0Nsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VSdWxlcyk7XHJcbiJdfQ==
